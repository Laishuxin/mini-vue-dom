{"version":3,"file":"vue.js","sources":["../../src/observer/proxy.js","../../src/observer/reactive.js","../../src/observer/observeArr.js","../../src/config.js","../../src/observer/array.js","../../src/observer/observer.js","../../src/observer/observe.js","../../src/state.js","../../src/compiler/astParser.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/lifecycle/mountComponent.js","../../src/init.js","../../src/lifecycle/patch.js","../../src/lifecycle/index.js","../../src/vDom/vnode.js","../../src/vDom/index.js","../../src/index.js"],"sourcesContent":["function proxyData(vm, target, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[target][key];\n    },\n    set(newValue) {\n      vm[target][key] = newValue;\n    },\n  });\n}\n\nexport default proxyData;\n","import observe from \"./observe\";\n\nfunction defineReactiveData(data, key, value) {\n  // value可能也是一个对象\n  observe(value)\n  Object.defineProperty(data, key, {\n    get() {\n      // console.log(\"响应式数据：获取\", value);\n      return value;\n    },\n    set(newValue) {\n      // console.log(\"响应式数据：设置\", value);\n      if(newValue==value) return;\n      // newValue可能也是一个对象\n      observe(newValue)\n      value = newValue;\n    },\n  });\n}\nexport default defineReactiveData;\n","import observe from './observe'\nfunction observeArr(arr){\n    for(var i=0;i<arr.length;i++){\n        observe(arr[i])\n    }\n}\nexport default observeArr","//所有会改变原数组内容的原生方法\nvar ARR_METHODS = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\n\nexport { ARR_METHODS };\n","/* 重写Array原型链上所有可能改变原数组的方法\n*  push新增的对象可能是对象或者数组，所以也需要进行观察，\n*  原数组数据的更改，可能引起页面视图改变，所以也要观察\n*/\nimport { ARR_METHODS } from \"../config\";\nimport observeArr from \"./observeArr\";\n//originArrMethods获取到原型\nvar originArrMethods = Array.prototype;\n// 创建新的对象实例，arrMthods的原型为originArrMethods\nvar arrMethods = Object.create(originArrMethods);\n\nARR_METHODS.map(function (m) {\n  arrMethods[m] = function () {\n    // arguments是类数组，Array.prototype.slice.call生成一个数组\n    var args = Array.prototype.slice.call(arguments);\n    // 原来数组的功能仍然需要保证\n    // this指向调用数组方法本身的对象，例如[1,2,3].splice(0,1,3),this就指向[1,2,3]\n    var rt = originArrMethods[m].apply(this, args);\n    var newArr;\n    switch (m) {\n      case \"push\":\n      case \"unshift\":\n        newArr = args;\n        break;\n      case \"splice\":\n        newArr = args.slice(2);\n        break;\n      default:\n        break;\n    }\n    // newArr是一个数组，所以可以直接observeArr进行递归，而不需要进入到observe流程\n    newArr && observeArr(newArr);\n    return rt;\n  };\n});\nexport { arrMethods };\n","import defineReactiveData from './reactive'\nimport observeArr from './observeArr'\nimport {arrMethods} from './array'\nfunction Observer(data){\n    if(Array.isArray(data)){\n        // 覆盖原本的__proto__\n        data.__proto__=arrMethods\n        // data是数组，数组内部可能出现对象或者数组，所以需要对数组内部每一项进行观察\n        observeArr(data)\n    }else{\n        this.walk(data);\n    }\n}\nObserver.prototype.walk=function(data){\n    var keys=Object.keys(data);\n    for(var i=0;i<keys.length;i++){\n        var key=keys[i];\n        var value=data[key];\n        defineReactiveData(data,key,value);\n    }\n}\n\nexport default Observer;","import Observer from \"./observer\"\nfunction observe(data){\n    if(typeof data!=='object' || data===null) return;\n    new Observer(data)\n}\nexport default observe","import proxyData from './observer/proxy'\nimport observe from './observer/observe'\nfunction initState(vm) {\n  var options = vm.$options;\n  if (options.data) {\n    initData(vm);\n  }\n}\n\nfunction initData(vm) {\n  // 不污染用户原本的data\n  var data = vm.$options.data;\n  // data原本是一个方法，执行后可以通过vm._data.xxx这样获取\n  data = typeof data === \"function\" ? data.call(vm) : data || {};\n  vm._data = data;\n  for(var key in data){\n      // 将对象访问从vm._data.xxx变成vm.xxx的形式\n      proxyData(vm, '_data', key);\n  }\n  // 观察者模式_data\n  observe(vm._data);\n}\n\nexport { initState };\n","/*\n  <div id=\"app\" style=\"color: red; font-size: 20px\">\n    你好 {{name}} {{info.students[0].name}}\n    <span class=\"text\" style=\"color: green\">{{info.job}}</span>\n    <p>学习</p>\n  </div>\n*/\n\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\n// 标签名 <my-header></my-header>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\n// <my:header></my:header>\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\n// <div\nconst startTagOpen = new RegExp(`^<${qnameCapture}`)\n// > />\nconst startTagClose = /^\\s*(\\/?)>/\n// </div>\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`)\n\n/**\n * 将模板 html 转换为 ast。\n * 不断截取 html，并进行解析成抽象语法树。\n * @param {string} html 模板 html\n */\nfunction parseHtmlToAst (html) {\n  let root = null;\n  let  currentParent = null;\n  const stack = [];  \n\n  while (html) {\n    let textEnd = html.indexOf('<');\n    let text = null;\n\n    if (textEnd === 0) {\n      const startTagMatch = parseStartTag();\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n      \n      const endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]);\n        continue;\n      }\n    } else if (textEnd > 0) {\n      text = html.substring(0, textEnd);\n      \n      if (text) {\n        advance(text.length);\n        chars(text);\n        text = null;\n      }\n    }\n  }\n\n  /**\n   * 解析开始标签。\n   * @example <div> -> { tagName: 'div', attrs: []};\n   * @example <div id=\"foo\"> -> { tagName: 'div', attrs: {id: 'foo'} };\n   */\n  function parseStartTag () {\n    const start = html.match(startTagOpen);\n\n    /** @type {Array | null} @example [] */\n    let end = null;\n    /** @type {Array | null}; @example [' id=\"app\"', 'id', '=', 'app'] */\n    let attrs = null;\n\n    if (start) {\n      /** @example ['<div', 'div', ...] */\n      const match = {\n        tagName: start[1],\n        attrs: [],\n      }\n      advance(start[0].length);\n      \n      /** 匹配属性 */\n      \n      while (!(end = html.match(startTagClose)) && \n        (attrs = html.match(attribute))) {\n        \n        const attr = {}\n        attr.name = attrs[1];\n        attr.value = attrs[3] || attrs[4] || attrs[5];\n        match.attrs.push(attr);\n        advance(attrs[0].length);\n      }\n\n      if (end) {\n        advance(end[0].length);\n        return match;\n      }\n    }\n    \n  }\n  \n  /**\n   * 将 html 往前推进 `n` 步。\n   * @param {number} n 前进的步数。\n   */\n  function advance (n) {\n    html = html.substring(n);\n  }\n  \n  function start (tagName, attrs) {\n    const element = createASTElement(tagName, attrs);\n    if (!root) {\n      root = element;\n    }\n    \n    currentParent = element;\n    stack.push(element);\n  }\n\n  function end (tagName) {\n    const element = stack.pop();\n    currentParent = stack[stack.length - 1];\n    if (currentParent) {\n      element.parent = currentParent;\n      currentParent.children.push(element);\n    }\n  }\n\n  /**\n   * 根据输入生成 AST 文本结点。\n   * @param {string} text \n   */\n  function chars (text) {\n    text = text.trim();\n    if (text.length > 0) {\n      currentParent.children.push({\n        text,\n        type: 3,\n      })\n    }\n  }\n\n  function createASTElement (tagName, attrs, parent = undefined) {\n    return {\n      tag: tagName,\n      type: 1,\n      children: [],\n      attrs,\n      parent\n    }\n  }\n  \n  return root;\n}\n\nexport { \n  parseHtmlToAst,\n}","/*\nid=\"app\" style=\"color: red; font-size: 20px\">\n  你好 {{name}} {{info.students[0].name}}\n  <span class=\"text\" style=\"color: green\">{{info.job}}</span>\n  <p>学习</p>\n</div>\n\n_c(\n  'div',\n  {'id': 'app', 'style': { 'color': 'red', 'font-size': '20px' }},\n  _v('你好' + _s(name) + _s(info.students[0].name)),\n  _c('span', { class: 'text', 'style': { 'color': 'green' }}, _v(_s(info.job))),\n  _c('p', undefined, _v('学习'))\n  )\n*/\n\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\nfunction generate (el) {\n  return formatElementNode(el);\n}\n\n/**\n * _c() => createElement();       : 解析元素。\n * _v() => createTextNode();      : 解析文本。\n * _s() => {{ name }} => _s(name) : 解析插值表达式。\n * @param {Object} el abstract syntax tree.\n * @returns { string } formatted code.\n */\nfunction formatElementNode (el) {\n  // console.log(`generate.js ast:`, el);\n  const tagName = el.tag;\n  const attrsStr = formatAttrs(el.attrs);\n  let childrenStr = formatChildren(el.children);\n  childrenStr = childrenStr ? `,${childrenStr}` : '';\n\n  const code = `_c('${tagName}', ${attrsStr}${childrenStr})`\n  // console.log(`generate.js code: `, code)\n  return code;\n}\n\n/**\n * 格式化文本结点。\n * @param { object } node Ast - 文本结点。\n * @example '你好 {{name}} hello' => '_v('你好 ' + _s(name) + ' hello')';\n * @returns { string } formatted string.\n */\nfunction formatTextNode (node) {\n  // console.log(`generate.js formatTextNode: `, node);\n  const tokens = [];\n  let index = 0;\n  let lastIndex = defaultTagRE.lastIndex = 0;   // set 0.\n  let match;\n  let text = node.text;\n\n  while(match = defaultTagRE.exec(text)) {\n    index = match.index;\n    if (index > lastIndex) {\n      tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n    }\n\n    tokens.push(`_s(${match[1].trim()})`);\n    lastIndex = index + match[0].length;\n  }\n  \n  if (lastIndex < text.length) {\n    tokens.push(JSON.stringify(text.slice(lastIndex)));\n  }\n  return `_v(${tokens.join('+')})`;\n}\n\n/**\n * 格式化属性。\n * @param { Array } attrs attributes.\n * @example [{name: 'id', value: 'app'},\n *           {name: 'style', value: 'color:red; font-size: 20px'}]\n *       => { 'id': 'app', 'style': { 'color': 'red; 'font-size': '20px' }}\n * @returns { string } formatted string.\n */\nfunction formatAttrs(attrs) {\n  const result = attrs.reduce((prev, curr) => {\n    const name = curr.name.trim();\n    const value = curr.value.trim();\n    if (name === 'style') {\n      prev += `${name}: ${JSON.stringify(_styleToObject(value))},`\n    } else {\n      prev += `${name}: ${JSON.stringify(value)},`;\n    }\n    return prev;\n  }, '');\n\n  /**\n   * @param { string } styleStr Like 'color: red; font-size: 20px'\n   * @returns { Object } Like: { color: 'red', 'font-size': '20px' }\n   */\n  function _styleToObject (styleStr) {\n    const result = {};\n    const styles = styleStr.split(';');\n    styles.forEach(style => {\n      const [ key, value ] = style.split(':');\n      result[key.trim()] = value.trim();\n    })\n    return result;\n  }\n  \n  // console.log(`generate.js formatAttrs`,  `{${result.slice(0, -1)}}`);\n  return `{${result.slice(0, -1)}}`;\n}\n\n/**\n * 格式化子结点。\n * @param { Array } children 子结点。\n * @returns { string } formatted string.\n */\nfunction formatChildren(children) {\n  if (!children) return '';\n\n  const tokens = children.map(child => {\n    const type = child.type;\n    if (type === 1) {\n      return formatElementNode(child);\n    } else if (type === 3) {\n      return formatTextNode(child);\n    }\n  });\n  \n  return tokens.join(',');\n}\n\nexport {\n  generate,\n}","import { parseHtmlToAst} from './astParser';\nimport { generate } from './generate'\n\n/**\n * 将 html string 转化为 render 函数。\n * @param {string} html html string with template.\n */\nfunction compileToRenderFunction (html) {\n  const ast = parseHtmlToAst(html);\n  const code = generate(ast);\n  // console.log('compiler.index: ', ast);\n  // console.log(`index.js code: `, code);\n  const render = new Function (`with (this) { return ${code}; }`);\n  // console.log(`index.js render: `);\n  // console.log(render);\n  return render;\n}\n\nexport {\n  compileToRenderFunction,\n}","function mountComponent (vm) {\n  vm._update(vm._render());\n}\n\nexport {\n  mountComponent,\n}\n","import { initState } from './state';\nimport { compileToRenderFunction } from './compiler';\nimport { mountComponent } from './lifecycle/mountComponent'\n\n/**\n * 初始化混入函数。\n * @param { VueStatic } Vue\n */\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options;\n    initState(vm);\n    \n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  }\n  \n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    \n    const options = vm.$options;\n\n    el = typeof el === 'string'\n          ? document.querySelector(el)\n          : el;\n    \n    vm.$el = el;\n    if (!options.render) {\n      let template = options.template || el.outerHTML;\n\n      options.render = compileToRenderFunction(template);\n    }\n    \n    mountComponent(vm);\n  }\n}\n\nexport {\n  initMixin,\n}","/**\n * 打补丁。\n * @param { HTMLElement } oldNode \n * @param { object  vnode \n */\nfunction patch (oldNode, vnode) {\n  const el = createElement(vnode);\n\n  const parent = oldNode.parentNode;\n  parent.insertBefore(el, oldNode);\n  parent.removeChild(oldNode);\n}\n\nfunction createElement (vnode) {\n  const { tag, props, children, text } = vnode\n  let el;\n  if (typeof tag === 'string') {\n    el = vnode.el = document.createElement(tag);\n    updateProps(vnode.el, props);\n\n    children.forEach(child => {\n      vnode.el.appendChild(createElement(child));\n    })\n  } else { // 文本结点\n    el = document.createTextNode(text);\n  }\n  \n  return el;\n}\n\n/**\n * 为元素追加 attribute.\n * @param { HTMLElement } el \n * @param { object } props \n */\nfunction updateProps (el, props) {\n  for (const key in props) {\n    if (Object.hasOwnProperty.call(props, key)) {\n      const value = props[key];\n      setAttribute(el, key, value);\n    }\n  }\n}\n\n/**\n * 设置 attribute.\n * @param { HTMLElement } el \n * @param { string } key \n * @param { object | string} value \n */\nfunction setAttribute (el, key, value) {\n  switch (key) {\n    case 'class':\n      el.classList.add(value);\n      break;\n    case 'style':\n      for (var sKey in value) {\n        el.style[sKey] = value[sKey];\n      }\n      break;\n    default:\n      el.setAttribute(key, value);\n  }\n}\n\nexport {\n  patch,\n}","import { patch } from './patch';\n/**\n * 混入生命周期函数。\n * @param {Vue} Vue\n */\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    patch(vm.$el, vnode);\n  }\n}\n\nexport {\n  lifecycleMixin,\n}\n","function createElement (tag, attrs = {}, ...children) {\n  return vnode(tag, attrs, children);\n}\n\nfunction createText (text) {\n  return vnode(undefined, undefined, undefined, text);\n}\n\nfunction vnode (tag, props, children, text) {\n  return {\n    tag,\n    props,\n    children,\n    text,\n  }\n}\n\nexport {\n  createElement,\n  createText,\n}\n","import { createElement, createText } from './vnode';\n\nfunction renderMixin (Vue) {\n  Vue.prototype._c = function (/*tagName, attrs, ...children*/) {\n    return createElement(...arguments);\n  }\n  \n  Vue.prototype._v = function (text) {\n    return createText(text);\n  }\n\n  Vue.prototype._s = function (value) {\n    if (value === null) return;\n    return typeof value === 'object' ? JSON.stringify(value) : value;\n  }\n\n  Vue.prototype._render = function () {\n    const vm = this;\n    const render = vm.$options.render;\n    const vnode = render.call(vm);\n    console.log(`index.js vnode = `, vnode);\n    return vnode;\n  }\n}\n\nexport {\n  renderMixin,\n}","import { initMixin } from './init';\nimport { lifecycleMixin } from './lifecycle';\nimport { renderMixin } from './vDom';\n\nfunction Vue (options) {\n  this._init(options);\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\nexport default Vue;"],"names":["proxyData","vm","target","key","Object","defineProperty","get","set","newValue","defineReactiveData","data","value","observe","observeArr","arr","i","length","ARR_METHODS","originArrMethods","Array","prototype","arrMethods","create","map","m","args","slice","call","arguments","rt","apply","newArr","Observer","isArray","__proto__","walk","keys","initState","options","$options","initData","_data","attribute","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseHtmlToAst","html","root","currentParent","stack","textEnd","indexOf","text","startTagMatch","parseStartTag","start","tagName","attrs","endTagMatch","match","advance","end","substring","chars","attr","name","push","n","element","createASTElement","pop","parent","children","trim","type","undefined","tag","defaultTagRE","generate","el","formatElementNode","attrsStr","formatAttrs","childrenStr","formatChildren","code","formatTextNode","node","tokens","index","lastIndex","exec","JSON","stringify","join","result","reduce","prev","curr","_styleToObject","styleStr","styles","split","forEach","style","child","compileToRenderFunction","ast","render","Function","mountComponent","_update","_render","initMixin","Vue","_init","$mount","document","querySelector","$el","template","outerHTML","patch","oldNode","vnode","createElement","parentNode","insertBefore","removeChild","props","updateProps","appendChild","createTextNode","hasOwnProperty","setAttribute","classList","add","sKey","lifecycleMixin","createText","renderMixin","_c","_v","_s","console","log"],"mappings":"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"}